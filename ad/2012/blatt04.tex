\documentclass[a4paper,fleqn]{scrartcl}
\usepackage[ngerman]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{float}
\usepackage{enumerate}
\usepackage{scrpage2}
\usepackage{tikz}

\ihead{AD Übung 4}

\ohead{Alisa Dammer, Elena Noll, Sven-Hendrik Haase}
\pagestyle{scrheadings}
\setheadsepline{1pt}
\newcommand{\qed}{\quad \square}

\usetikzlibrary{arrows}

\tikzset{
  treenode/.style = {align=center, inner sep=0pt, text centered,
    font=\sffamily},
  arn_n/.style = {treenode, circle, white, font=\sffamily\bfseries, draw=black,
    fill=black, text width=1.5em},% arbre rouge noir, noeud noir
  arn_r/.style = {treenode, circle, red, draw=red, 
    text width=1.5em, very thick},% arbre rouge noir, noeud rouge
  arn_x/.style = {treenode, rectangle, draw=black,
    minimum width=0.5em, minimum height=0.5em}% arbre rouge noir, nil
}

\begin{document}
\subsection*{Aufgabe 1}
\subsubsection*{a)}
\begin{figure}[H]
\centering
\begin{tikzpicture}[->,>=stealth',level/.style={sibling distance = 5cm/#1,
  level distance = 1cm}] 
\node [arn_n] {55}
    child{ node [arn_n] {34}
    child{ node [arn_n] {21}
			child{ node [arn_n] {13}
				child{ node [arn_n] {8}
					child{ node [arn_n] {5}
						child{ node [arn_n] {3}
							child{ node [arn_n] {2}
								child{ node [arn_n] {1}
									child{ node [arn_x] {}}
									child{ node [arn_x] {}}}
								child{ node [arn_x] {}}}
							child{ node [arn_x] {}}}
						child{ node [arn_x] {}}}
					child{ node [arn_x] {}}}
				child{ node [arn_x] {}}}
			child{ node [arn_x] {}}
        }
    child{ node [arn_x] {}}
    }
    child{ node [arn_x] {}}
; 
\end{tikzpicture}
\caption{Unbalancierter Baum}
\end{figure}

\begin{figure}[H]
\centering
\begin{tikzpicture}[->,>=stealth',level/.style={sibling distance = 5cm/#1,
  level distance = 1cm}] 
\node [arn_n] {13}
    child{ node [arn_n] {5}
    	child{ node [arn_n] {2}
    		child{ node [arn_n] {1}}
    		child{ node [arn_n] {3}}
    	}
    	child{ node [arn_n] {8}}
    }
    child{ node [arn_n] {34}
    	child{ node [arn_n] {21}}
    	child{ node [arn_n] {55}}
    }
; 
\end{tikzpicture}
\caption{Balancierter Baum}
\end{figure}

\noindent
preorder [13, 5, 2, 1, 3, 8, 34, 21, 55] \\
inorder [1, 2, 3, 5, 8, 13, 21, 34, 55] \\
postorder [1, 3, 2, 8, 5, 21, 55, 34, 13]

\subsubsection*{b)}
\begin{figure}[H]
\centering
\begin{tikzpicture}[->,>=stealth',level/.style={sibling distance = 5cm/#1,
  level distance = 1cm}] 
\node [arn_n] {25}
	child{ node [arn_n] {12}
		child{ node [arn_n] {4}
			child{ node [arn_n] {2}}
			child{ node [arn_n] {8}}
		}
		child{ node [arn_n] {15}
			child{ node [arn_n] {14}}
			child{ node [arn_n] {17}
				child{ node [arn_n] {16}}
				child{ node [arn_n] {22}}
			}
		}
	}
    child{ node [arn_n] {32}
    	child{ node [arn_n] {27} 
			child{ node [arn_x] {}}
			child{ node [arn_n] {30}}
        }
        child{ node [arn_n] {35}
			child{ node [arn_n] {34}}
			child{ node [arn_n] {37}}
    	}
	}
;
\end{tikzpicture}
\caption{Unveränderter Baum}
\end{figure}

\begin{figure}[H]
\centering
\begin{tikzpicture}[->,>=stealth',level/.style={sibling distance = 5cm/#1,
  level distance = 1cm}] 
\node [arn_n] {25}
	child{ node [arn_n] {12}
		child{ node [arn_n] {4}
			child{ node [arn_n] {2}}
			child{ node [arn_n] {8}}
		}
		child{ node [arn_n] {16}
			child{ node [arn_n] {14}}
			child{ node [arn_n] {17}
				child{ node [arn_x] {}}
				child{ node [arn_n] {22}}
			}
		}
	}
    child{ node [arn_n] {32}
    	child{ node [arn_n] {27} 
			child{ node [arn_x] {}}
			child{ node [arn_n] {30}}
        }
        child{ node [arn_n] {35}
			child{ node [arn_n] {34}}
			child{ node [arn_n] {37}}
    	}
	}
;
\end{tikzpicture}
\caption{15 gelöscht}
\end{figure}

\begin{figure}[H]
\centering
\begin{tikzpicture}[->,>=stealth',level/.style={sibling distance = 5cm/#1,
  level distance = 1cm}] 
\node [arn_n] {27}
	child{ node [arn_n] {12}
		child{ node [arn_n] {4}
			child{ node [arn_n] {2}}
			child{ node [arn_n] {8}}
		}
		child{ node [arn_n] {16}
			child{ node [arn_n] {14}}
			child{ node [arn_n] {17}
				child{ node [arn_x] {}}
				child{ node [arn_n] {22}}
			}
		}
	}
    child{ node [arn_n] {32}
    	child{ node [arn_n] {30}}
        child{ node [arn_n] {35}
			child{ node [arn_n] {34}}
			child{ node [arn_n] {37}}
    	}
	}
;
\end{tikzpicture}
\caption{25 gelöscht}
\end{figure}

\subsubsection*{c)}
\begin{align*}
d_l(x) &= d(x) + 1\\
d_l(x.left) &= d(x.left) + 1\\
d_l(x.right) &= d(x.right) - 1\\
d_l(x.p) &= d_l(x.p)\\
d_r(x) &= d(x) + 1\\
d_r(x.left) &= d(x.left) - 1\\
d_r(x.right) &= d(x.right) + 1\\
d_r(x.p) &= d_r(x.p)
\end{align*}

\subsubsection*{d)}
\begin{figure}[H]
\centering
\begin{tikzpicture}[->,>=stealth',level/.style={sibling distance = 5cm/#1,
  level distance = 1cm}]
\node [arn_n] {25}
	child{ node [arn_n] {12}
		child{ node [arn_n] {4}
			child{ node [arn_n] {2}}
			child{ node [arn_n] {8}}
		}
		child{ node [arn_n] {15}
			child{ node [arn_n] {14}}
			child{ node [arn_n] {17}
				child{ node [arn_n] {16}}
				child{ node [arn_n] {22}}
			}
		}
	}
    child{ node [arn_n] {32}
    	child{ node [arn_n] {27} 
			child{ node [arn_x] {}}
			child{ node [arn_n] {30}}
        }
        child{ node [arn_n] {35}
			child{ node [arn_n] {34}}
			child{ node [arn_n] {37}}
    	}
	}
;
\end{tikzpicture}
\caption{Unveränderter Baum}
\end{figure}

\begin{figure}[H]
\centering
\begin{tikzpicture}[->,>=stealth',level/.style={sibling distance = 5cm/#1,
  level distance = 1cm}] 
\node [arn_n] {25}
	child{ node [arn_n] {12}
		child{ node [arn_n] {4}
			child{ node [arn_n] {2}}
			child{ node [arn_n] {8}}
		}
		child{ node [arn_n] {17}
			child{ node [arn_n] {15}
				child{ node [arn_n] {14}}
				child{ node [arn_n] {16}}
			}
			child{ node [arn_n] {22}}
		}
	}
    child{ node [arn_n] {32}
    	child{ node [arn_n] {27} 
			child{ node [arn_x] {}}
			child{ node [arn_n] {30}}
        }
        child{ node [arn_n] {35}
			child{ node [arn_n] {34}}
			child{ node [arn_n] {37}}
    	}
	}
;
\end{tikzpicture}
\caption{1. Linksrotation}
\end{figure}

\begin{figure}[H]
\centering
\begin{tikzpicture}[->,>=stealth',level/.style={sibling distance = 5cm/#1,
  level distance = 1cm}] 
\node [arn_n] {25}
	child{ node [arn_n] {17}
		child{ node [arn_n] {12}
			child{ node [arn_n] {4}
				child{ node [arn_n] {2}}
				child{ node [arn_n] {8}}
			}
			child{ node [arn_n] {15}
				child{ node [arn_n] {14}}
				child{ node [arn_n] {16}}
			}
		}
		child{ node [arn_n] {22}}
	}
    child{ node [arn_n] {32}
    	child{ node [arn_n] {27} 
			child{ node [arn_x] {}}
			child{ node [arn_n] {30}}
        }
        child{ node [arn_n] {35}
			child{ node [arn_n] {34}}
			child{ node [arn_n] {37}}
    	}
	}
;
\end{tikzpicture}
\caption{2. Linksrotation}
\end{figure}

\begin{figure}[H]
\centering
\begin{tikzpicture}[->,>=stealth',level/.style={sibling distance = 5cm/#1,
  level distance = 1cm}] 
\node [arn_n] {17}
	child{ node [arn_n] {12}
		child{ node [arn_n] {4}
			child{ node [arn_n] {2}}
			child{ node [arn_n] {8}}
		}
		child{ node [arn_n] {15}
			child{ node [arn_n] {14}}
			child{ node [arn_n] {16}}
		}
	}
	child{ node [arn_n] {25}
		child{ node [arn_n] {22}}
		child{ node [arn_n] {32}
			child{ node [arn_n] {27} 
				child{ node [arn_x] {}}
				child{ node [arn_n] {30}}
		    }
		    child{ node [arn_n] {35}
				child{ node [arn_n] {34}}
				child{ node [arn_n] {37}}
    		}
		}
	}
;
\end{tikzpicture}
\caption{1. Rechtsrotation}
\end{figure}

\subsection*{Aufgabe 2}
\subsubsection*{a)}
\begin{figure}[H]
\centering
\begin{tikzpicture}[->,>=stealth',level/.style={sibling distance = 5cm/#1,
  level distance = 1cm}] 
\node [arn_n] {55}
    child{ node [arn_n] {34}
    child{ node [arn_n] {21}
			child{ node [arn_n] {13}
				child{ node [arn_n] {8}
					child{ node [arn_n] {5}
						child{ node [arn_n] {3}
							child{ node [arn_n] {2}
								child{ node [arn_n] {1}
									child{ node [arn_x] {}}
									child{ node [arn_x] {}}}
								child{ node [arn_x] {}}}
							child{ node [arn_x] {}}}
						child{ node [arn_x] {}}}
					child{ node [arn_x] {}}}
				child{ node [arn_x] {}}}
			child{ node [arn_x] {}}
        }
    child{ node [arn_x] {}}
    }
    child{ node [arn_x] {}}
; 
\end{tikzpicture}
\caption{Unbalancierter Baum}
\end{figure}
Begründung: Dieser Baum erfüllt alle Kriterien an einen RBT. Es muss kein
roter Node vorkommen.

\subsubsection*{b)}
\begin{figure}[H]
\centering
\begin{tikzpicture}[->,>=stealth',level/.style={sibling distance = 5cm/#1,
  level distance = 1cm}] 
\node [arn_n] {20}
	child{ node [arn_n] {15}
		child{ node [arn_n] {10}}
		child{ node [arn_n] {17}}
	}
	child{ node [arn_r] {30}
		child{ node [arn_n] {28}
			child{ node [arn_n] {27}}
			child{ node [arn_n] {29}}
		}
		child{ node [arn_n] {35}
			child{ node [arn_n] {33}}
		    child{ node [arn_r] {42}
				child{ node [arn_n] {36}}
				child{ node [arn_n] {47}
					child{ node [arn_r] {46}
						child{ node [arn_x] {}}
						child{ node [arn_x] {}}
					}
					child{ node [arn_r] {64}
						child{ node [arn_x] {}}
						child{ node [arn_x] {}}
					}
				}
  			}
		}
	}
;
\end{tikzpicture}
\caption{1. Baum}
\end{figure}

\begin{figure}[H]
\centering
\begin{tikzpicture}[->,>=stealth',level/.style={sibling distance = 5cm/#1,
  level distance = 1cm}] 
\node [arn_n] {20}
	child{ node [arn_n] {15}
		child{ node [arn_r] {3}
			child{ node [arn_n] {1}}
			child{ node [arn_n] {5}}
		}
		child{ node [arn_n] {18}}
	}
	child{ node [arn_n] {30}
		child{ node [arn_r] {27}
			child{ node [arn_n] {27}}
			child{ node [arn_n] {29}
				child{ node [arn_r] {28}
					child{ node [arn_x] {}}
					child{ node [arn_x] {}}
				}
				child{ node [arn_x] {}}
			}
		}
		child{ node [arn_n] {35}}
	}
;
\end{tikzpicture}
\caption{2. Baum}
\end{figure}

\end{document}